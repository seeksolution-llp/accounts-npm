// buttonModule.js

// Function to create a button and handle click event
function createButton() {
    const button = document.createElement('button');
    button.textContent = 'Login';
    button.addEventListener('click', openChildWindow);
    return button;
}

// Function to open a child window and set up message communication
function openChildWindow() {
    const childWindow = window.open('https://accounts.seeksolution.in', '_blank', 'width=300,height=300');

    // Listener to handle messages from the child window
    window.addEventListener('message', function(event) {
        // Check origin for security purposes
        if (event.origin === 'https://accounts.seeksolution.in') {
            console.log('Message received from child window:', event.data);
            // You can perform any action here with the received data
        } else {
            console.warn('Message received from untrusted origin:', event.origin);
        }
    });

    // Send a message to child window
    childWindow.postMessage('Hello from parent!', 'https://accounts.seeksolution.in');
}

// Export the createButton function
module.exports = createButton;
